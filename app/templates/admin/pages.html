{% extends 'base.html' %}
{% block content %}

{% include 'admin/nav.html' %}

<a href="{{ url_for('admin.add_page') }}" class="btn btn-primary float-right">
	<i class="fas fa-plus"></i> Add Page
</a>

<h2>Pages</h2>

<h3>Published</h3>
<table class="table table-condensed table-striped table-hover datatable">
	<thead>
		<tr>
			<th>Title</th>
			<th>Path</th>
			<th width="125">Word Count</th>
			<th width="100">Published</th>
			<th width="100">Actions</th>
		</tr>
	</thead>
	<tbody>
		{% for page in pub_pages %}
			<tr>
				<td>{{ page.title }}</td>
				<td><a href="{{ page.path }}"><i class="fas fa-eye"></i> {{ page.path }}</a></td>
				<td class="text-center">{{ page.word_count() }}</td>
				<td class="text-success text-center">
					{% if page.published %}
						<i class="fas fa-check-circle"></i>
					{% endif %}
				</td>
				<td class="text-center">
					<a href="{{ url_for('admin.edit_page', id=page.id) }}" class="btn btn-primary btn-sm">
						<i class="fas fa-edit"></i>
					</a>
				</td>
			</tr>
		{% endfor %}
	</tbody>
</table>
<br />

<h3>Unpublished</h3>
<table class="table table-condensed table-striped table-hover datatable">
	<thead>
		<tr>
			<th>Title</th>
			<th>Path</th>
			<th width="125">Word Count</th>
			<th width="100">Published</th>
			<th width="100">Actions</th>
		</tr>
	</thead>
	<tbody>
		{% for page in unpub_pages %}
			<tr>
				<td>{{ page.title }}</td>
				<td><a href="{{ page.path }}"><i class="fas fa-eye"></i> {{ page.path }}</a></td>
				<td class="text-center">{{ page.word_count() }}</td>
				<td class="text-success text-center">
					{% if page.published %}
						<i class="fas fa-check-circle"></a>
					{% endif %}
				</td>
				<td class="text-center">
					<a href="{{ url_for('admin.edit_page', id=page.id) }}" class="btn btn-primary btn-sm">
						<i class="fas fa-edit"></i>
					</a>
				</td>
			</tr>
		{% endfor %}
	</tbody>
</table>

{% endblock %}
